{"ast":null,"code":"import { DateTime } from 'luxon';\nimport _debug from 'debug';\nvar LUXON_DATE_FORMAT;\n\n(function (LUXON_DATE_FORMAT) {\n  LUXON_DATE_FORMAT[\"YYYY_LL_DD\"] = \"yyyy-LL-dd\";\n  LUXON_DATE_FORMAT[\"YYYY_LL\"] = \"yyyy-LL\";\n  LUXON_DATE_FORMAT[\"YYYY_DOT_LL\"] = \"yyyy. LL\";\n  LUXON_DATE_FORMAT[\"YYYY_DOT_LL_DOT_DD\"] = \"yyyy. LL. dd\";\n  LUXON_DATE_FORMAT[\"KINDNESS_FULL\"] = \"DDDD\";\n  LUXON_DATE_FORMAT[\"DURATION_KINDNESS\"] = \"y\\uB144 M\\uAC1C\\uC6D4\";\n  LUXON_DATE_FORMAT[\"DURATION_KINDNESS_ONLY_MONTH\"] = \"M\\uAC1C\\uC6D4\";\n  LUXON_DATE_FORMAT[\"DURATION_KINDNESS_ONLY_YEAR\"] = \"y\\uB144\";\n})(LUXON_DATE_FORMAT || (LUXON_DATE_FORMAT = {}));\n\nfunction getFormattingDuration(from, to = DateTime.local()) {\n  const log = debug('Util:getFormattingDuration'); // 햇수 계산을 위해 month에 1개월 추가\n\n  const diff = to.plus({\n    month: 1\n  }).diff(from, ['years', 'months']);\n  log(diff.milliseconds, diff.get('years'), diff.get('months')); // 기간 포맷 결정\n\n  let format;\n\n  if (diff.years > 0 && diff.months === 0) {\n    format = LUXON_DATE_FORMAT.DURATION_KINDNESS_ONLY_YEAR;\n  } else if (diff.years === 0 && diff.months > 0) {\n    // 1년 미만이면 개월만 표시\n    format = LUXON_DATE_FORMAT.DURATION_KINDNESS_ONLY_MONTH;\n  } else {\n    format = LUXON_DATE_FORMAT.DURATION_KINDNESS;\n  }\n\n  return diff.toFormat(format);\n}\n\nfunction debug(channel) {\n  return _debug(`yosume:${channel}`);\n}\n\nconst Util = {\n  LUXON_DATE_FORMAT,\n  getFormattingDuration,\n  debug\n};\nexport default Util;","map":{"version":3,"sources":["/Volumes/Bohyun/dev/bohyun-choi-0320.github.io/component/common/Util.ts"],"names":["DateTime","_debug","LUXON_DATE_FORMAT","getFormattingDuration","from","to","local","log","debug","diff","plus","month","milliseconds","get","format","years","months","DURATION_KINDNESS_ONLY_YEAR","DURATION_KINDNESS_ONLY_MONTH","DURATION_KINDNESS","toFormat","channel","Util"],"mappings":"AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,OAAOC,MAAP,MAAmB,OAAnB;IAEKC,iB;;WAAAA,iB;AAAAA,EAAAA,iB;AAAAA,EAAAA,iB;AAAAA,EAAAA,iB;AAAAA,EAAAA,iB;AAAAA,EAAAA,iB;AAAAA,EAAAA,iB;AAAAA,EAAAA,iB;AAAAA,EAAAA,iB;GAAAA,iB,KAAAA,iB;;AAYL,SAASC,qBAAT,CAA+BC,IAA/B,EAA+CC,EAAY,GAAGL,QAAQ,CAACM,KAAT,EAA9D,EAAgF;AAC9E,QAAMC,GAAG,GAAGC,KAAK,CAAC,4BAAD,CAAjB,CAD8E,CAG9E;;AACA,QAAMC,IAAI,GAAGJ,EAAE,CAACK,IAAH,CAAQ;AAAEC,IAAAA,KAAK,EAAE;AAAT,GAAR,EAAsBF,IAAtB,CAA2BL,IAA3B,EAAiC,CAAC,OAAD,EAAU,QAAV,CAAjC,CAAb;AAEAG,EAAAA,GAAG,CAACE,IAAI,CAACG,YAAN,EAAoBH,IAAI,CAACI,GAAL,CAAS,OAAT,CAApB,EAAuCJ,IAAI,CAACI,GAAL,CAAS,QAAT,CAAvC,CAAH,CAN8E,CAQ9E;;AACA,MAAIC,MAAJ;;AACA,MAAIL,IAAI,CAACM,KAAL,GAAa,CAAb,IAAkBN,IAAI,CAACO,MAAL,KAAgB,CAAtC,EAAyC;AACvCF,IAAAA,MAAM,GAAGZ,iBAAiB,CAACe,2BAA3B;AACD,GAFD,MAEO,IAAIR,IAAI,CAACM,KAAL,KAAe,CAAf,IAAoBN,IAAI,CAACO,MAAL,GAAc,CAAtC,EAAyC;AAC9C;AACAF,IAAAA,MAAM,GAAGZ,iBAAiB,CAACgB,4BAA3B;AACD,GAHM,MAGA;AACLJ,IAAAA,MAAM,GAAGZ,iBAAiB,CAACiB,iBAA3B;AACD;;AAED,SAAOV,IAAI,CAACW,QAAL,CAAcN,MAAd,CAAP;AACD;;AAED,SAASN,KAAT,CAAea,OAAf,EAAgC;AAC9B,SAAOpB,MAAM,CAAE,UAASoB,OAAQ,EAAnB,CAAb;AACD;;AAED,MAAMC,IAAI,GAAG;AACXpB,EAAAA,iBADW;AAEXC,EAAAA,qBAFW;AAGXK,EAAAA;AAHW,CAAb;AAMA,eAAec,IAAf","sourcesContent":["import { DateTime } from 'luxon';\nimport _debug from 'debug';\n\nenum LUXON_DATE_FORMAT {\n  YYYY_LL_DD = 'yyyy-LL-dd',\n  YYYY_LL = 'yyyy-LL',\n  YYYY_DOT_LL = 'yyyy. LL',\n  YYYY_DOT_LL_DOT_DD = 'yyyy. LL. dd',\n  KINDNESS_FULL = 'DDDD',\n\n  DURATION_KINDNESS = 'y년 M개월',\n  DURATION_KINDNESS_ONLY_MONTH = 'M개월',\n  DURATION_KINDNESS_ONLY_YEAR = 'y년',\n}\n\nfunction getFormattingDuration(from: DateTime, to: DateTime = DateTime.local()) {\n  const log = debug('Util:getFormattingDuration');\n\n  // 햇수 계산을 위해 month에 1개월 추가\n  const diff = to.plus({ month: 1 }).diff(from, ['years', 'months']);\n\n  log(diff.milliseconds, diff.get('years'), diff.get('months'));\n\n  // 기간 포맷 결정\n  let format;\n  if (diff.years > 0 && diff.months === 0) {\n    format = LUXON_DATE_FORMAT.DURATION_KINDNESS_ONLY_YEAR;\n  } else if (diff.years === 0 && diff.months > 0) {\n    // 1년 미만이면 개월만 표시\n    format = LUXON_DATE_FORMAT.DURATION_KINDNESS_ONLY_MONTH;\n  } else {\n    format = LUXON_DATE_FORMAT.DURATION_KINDNESS;\n  }\n\n  return diff.toFormat(format);\n}\n\nfunction debug(channel: string) {\n  return _debug(`yosume:${channel}`);\n}\n\nconst Util = {\n  LUXON_DATE_FORMAT,\n  getFormattingDuration,\n  debug,\n};\n\nexport default Util;\n"]},"metadata":{},"sourceType":"module"}